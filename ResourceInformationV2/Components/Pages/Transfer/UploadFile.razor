@page "/transfer/load"
@layout SidebarLayout

<PageTitle>Load File</PageTitle>

<ilw-content>
    <h1>Load File</h1>
    <p>This allows you to load a tab-delimited file. Note that uploading a lot of records at once will take a while. Please do not leave this page while your information is loading.</p>
    <p>To get a sample template of the file, go to the <a href="/transfer/save">Save Text File and download the file</a>. Even if you have no existing items, the template will have column headings that will help you with fillinf out the template.</p>
    <p>IDs that are not listed in the document will be added automatically. Note that all IDs must start with the source, followed by a dash.</p>
    <p>Tags, Audience, and Topics may be separated by a semi-colon. Filters are case-sensitive.</p>
    <p>Related Links are separated by a semi-colon, and are in Markdown format (text is first in square brackets, link follows and is in parenthesis).</p>
    <p>The default is to load items in an inactive state. If you want them active, mark "true" under Active.</p>
    <p><strong>If you are loading an Excel file, make sure you save it as a tab-delimited text file first!</strong></p>
</ilw-content>

<ilw-content>
    <div class="ils-input-entry">
        <label for="title">Select Type to Load</label>
        <select id="title" @bind="SelectedOption">
            @foreach (var option in Options)
            {
                <option value="@option">@option</option>
            }
        </select>
    </div>

    <div class="ils-input-entry">
        <label for="deleteall">Should you delete all items first?</label>
        <input id="deleteall" type="checkbox" @bind="DeleteAllFirst" />
    </div>
    <div class="ils-input-entry">
        <label for="validatetags">Ignore tags that do not exist? Overwrite it will overwrite your tag list with tags in the file and produce unpredictable results for existing tagged items.</label>
        <input id="validatetags" type="checkbox" @bind="ValidateTags" />
    </div>

    <InputFile OnChange="@LoadFile" />

    <p><button @onclick="Upload" class="ilw-button">Upload File</button></p>
</ilw-content>

